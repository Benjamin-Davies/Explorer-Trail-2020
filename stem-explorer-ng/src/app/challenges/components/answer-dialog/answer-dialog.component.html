<app-dialog [category]="data.challenge.category">
  <app-challenge-title [category]="data.challenge.category">{{data.challenge.title}}</app-challenge-title>
  <h4>{{ Levels[data.level.difficulty] }}</h4>

  <p id="question">
    <b>Question: </b>
    {{ data.level.questionText }}
  </p>

  <h3>
    Answer
    <span *ngIf="data.level.answerType === AnswerType.Multichoice" class="smaller">- Choose one</span>
  </h3>
  
  <ng-container [ngSwitch]="data.level.answerType">

    <ul *ngSwitchCase="AnswerType.Multichoice" class="answer-list">
      <li *ngFor="let answer of data.level.possibleAnswers">
        <button mat-flat-button mat-dialog-close outlined [disabled]="checkingAnswer && answer.answerText !== selectedAnswer"
          (click)="submitAnswer(answer.answerText)">
          {{ answer.answerText }}
        </button>
      </li>
    </ul>

    <form *ngSwitchDefault (submit)="$event.preventDefault(); submitAnswer(answerValue)">
      <input
        placeholder="Type answer here"
        [disabled]="checkingAnswer"
        name="answer"
        [class]="validationError ? 'red' : ''"
      ></input>
      <button mat-flat-button [disabled]="checkingAnswer || (answerValue.trim().length === 0)" [category]="Colour[data.challenge.category]">Enter Answer</button>
    </form>

  </ng-container>

  <p *ngIf="validationError">{{ validationError }}</p>

  <p *ngIf="checkingAnswer">Checking your answer&hellip;</p>
</app-dialog>
